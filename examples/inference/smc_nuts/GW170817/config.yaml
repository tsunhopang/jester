# GW170817-only inference configuration
# SMC with NUTS kernel for constraining EOS using GW data

seed: 43

# Execution options
dry_run: false
validate_only: false

# Transform configuration: MetaModel + CSE for high-density region
transform:
  type: "metamodel_cse"
  ndat_metamodel: 100
  nmax_nsat: 25.0
  nb_CSE: 8
  min_nsat_TOV: 0.75
  ndat_TOV: 100
  nb_masses: 100
  crust_name: "DH"

# Prior specification file
prior:
  specification_file: "prior.prior"

# Likelihood constraints (only GW170817 enabled)
likelihoods:
  - type: "constraints_eos"
    enabled: true
  - type: "gw"
    enabled: true
    parameters:
      events:
        - name: "GW170817"
          model_dir: "../../../../jesterTOV/inference/flows/models/gw_maf/gw170817/gw170817_gwtc1_lowspin_posterior"
      penalty_value: -99999.0
      N_masses_evaluation: 1
      N_masses_batch_size: 1

# SMC configuration with NUTS kernel
sampler:
  type: "smc"
  kernel_type: "nuts"
  n_particles: 1000
  n_mcmc_steps: 5
  target_ess: 0.9
  init_step_size: 0.01
  mass_matrix_base: 0.2
  mass_matrix_param_scales: {}
  target_acceptance: 0.7
  adaptation_rate: 0.3
  n_eos_samples: 1000
  output_dir: "./outdir/"

# Postprocessing configuration
postprocessing:
  enabled: true
  make_cornerplot: true
  make_massradius: true
  make_pressuredensity: true
