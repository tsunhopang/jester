# BlackJAX Nested Sampling with Acceptance Walk Configuration Example
# Uses BlackJAX nested sampling with acceptance walk for Bayesian evidence estimation
# Sample from the prior for now

seed: 42

# Execution options
dry_run: false        # Set to true to setup everything but not run sampler
validate_only: false  # Set to true to only validate configuration

# Transform configuration: MetaModel for EOS curves
transform:
  type: "metamodel_cse"
  ndat_metamodel: 100        # Number of data points for MetaModel interpolation
  nmax_nsat: 25.0            # Maximum density (in units of nsat) for MetaModel
  nb_CSE: 8                  # Usual CSE
  min_nsat_TOV: 0.75         # Minimum density for TOV integration
  ndat_TOV: 100              # Number of points for TOV integration
  nb_masses: 100             # Number of mass samples for M-R curve
  crust_name: "DH"           # Crust model (Douchin-Haensel)

# Prior specification file
prior:
  specification_file: "prior.prior"

# Likelihood constraints
likelihoods:
  - type: "constraints_eos"
    enabled: true
  - type: "zero"
    enabled: true
    parameters: {}

# BlackJAX Nested Sampling with Acceptance Walk configuration
sampler:
  type: "blackjax-ns-aw"
  n_live: 1400               # Number of live points
  n_delete_frac: 0.5         # Fraction of live points to delete per iteration
  n_target: 60               # Target number of accepted MCMC steps
  max_mcmc: 5000             # Maximum MCMC steps per iteration
  max_proposals: 1000        # Maximum proposal attempts
  termination_dlogz: 0.1     # Termination criterion (evidence convergence)
  n_eos_samples: 10000       # Number of EOS samples to generate after inference
  output_dir: "./outdir/"

# Postprocessing configuration
postprocessing:
  enabled: true
  make_cornerplot: false
  make_massradius: true
  make_pressuredensity: true