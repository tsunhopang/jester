# NICER PSR J0030+0451-only inference configuration
# BlackJAX Nested Sampling with Acceptance Walk for constraining EOS using NICER X-ray timing

seed: 44

# Execution options
dry_run: false
validate_only: false

# Transform configuration: MetaModel + CSE for high-density region
transform:
  type: "metamodel_cse"
  ndat_metamodel: 100
  nmax_nsat: 25.0
  nb_CSE: 8
  min_nsat_TOV: 0.75
  ndat_TOV: 100
  nb_masses: 100
  crust_name: "DH"

# Prior specification file
prior:
  specification_file: "prior.prior"

# Likelihood constraints
likelihoods:
  - type: "constraints_eos"
    enabled: true

  # NICER X-ray timing constraint (PSR J0030+0451)
  - type: "nicer"
    enabled: true
    parameters:
      pulsars:
        - name: "J0030"
          amsterdam_samples_file: "../../../jesterTOV/inference/data/NICER/J00300451_amsterdam_ST_PST_NICER_only_Riley2019.npz"
          maryland_samples_file: "../../../jesterTOV/inference/data/NICER/J00300451_maryland_2spot_NICER_only_RM.npz"
      N_masses_evaluation: 20
      N_masses_batch_size: 10

# BlackJAX Nested Sampling with Acceptance Walk configuration
sampler:
  type: "blackjax-ns-aw"
  n_live: 1400
  n_delete_frac: 0.5
  n_target: 60
  max_mcmc: 5000
  max_proposals: 1000
  termination_dlogz: 0.1
  n_eos_samples: 10000
  output_dir: "./outdir/"

# Postprocessing configuration
postprocessing:
  enabled: true
  make_cornerplot: true
  make_massradius: true
  make_pressuredensity: true
